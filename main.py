# -*- coding: utf-8 -*-
"""Untitled4.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1B2Dgo8TA5qGGgvQt5Y58iS8QofXhtt8D
"""

code = """
from duckduckgo_search import DDGS
import requests, os
from PIL import Image
from io import BytesIO

def main():
    print("=== Ø¨Ø±Ù†Ø§Ù…Ø¬ ØªØ­Ù…ÙŠÙ„ ØµÙˆØ± ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ù…Ù† Ø§Ù„Ù†ØµÙˆØµ ===")
    text = input("Ø§ÙƒØªØ¨ Ø§Ù„Ù†Øµ Ù‡Ù†Ø§ (Ø§Ù„Ø¬Ù…Ù„ Ù…ÙØµÙˆÙ„Ø© Ø¨Ù†Ù‚Ø·Ø© .):\\n> ")

    # ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ù†Øµ Ù„Ø¬Ù…Ù„
    sentences = [s.strip() for s in text.split('.') if s.strip()]

    if not sentences:
        print("âŒ Ù…ÙÙŠØ´ Ø¬Ù…Ù„ Ø§ØªÙƒØªØ¨Øª!")
        return

    # Ù…Ø¬Ù„Ø¯ Ù„Ù„ØµÙˆØ±
    os.makedirs("images", exist_ok=True)

    # Ø§Ù„Ø¨Ø­Ø« ÙˆØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±
    for idx, sentence in enumerate(sentences, start=1):
        print(f"[{idx}] Ø¨Ø¨Ø­Ø« Ø¹Ù†: {sentence}")
        try:
            results = DDGS().images(sentence, max_results=1)
            if results:
                url = results[0]['image']
                response = requests.get(url, timeout=10)
                img = Image.open(BytesIO(response.content))
                path = f"images/sentence_{idx}.jpg"
                img.save(path)
                print(f"âœ… Ø§ØªØ­ÙØ¸Øª Ø§Ù„ØµÙˆØ±Ø©: {path}")
            else:
                print("âš ï¸ Ù…ÙÙŠØ´ ØµÙˆØ± Ø§ØªÙ„Ø§Ù‚Øª")
        except Exception as e:
            print("âŒ Ø­ØµÙ„ Ø®Ø·Ø£:", e)

    print("\\nğŸ‰ Ø®Ù„ØµØª! Ø§Ù„ØµÙˆØ± Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ù…Ø¬Ù„Ø¯ images")

if __name__ == "__main__":
    main()
"""

with open("main.py", "w", encoding="utf-8") as f:
    f.write(code)

print("âœ… Ø§Ù„Ù…Ù„Ù main.py Ø§ØªØ¹Ù…Ù„ØŒ ØªÙ‚Ø¯Ø± ØªÙ†Ø²Ù„Ù‡ Ù…Ù† File Browser ÙÙŠ Colab")